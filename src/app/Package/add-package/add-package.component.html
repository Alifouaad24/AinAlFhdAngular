<div class="row col-12 p-1 justify-content-between">
  <!-- قسم البحث -->
  <div class="col-md-4">
    <div class="container mt-3">
      <h5 class="text-center text-dark mb-4">أدخل اسم العميل أو رقم الجوال للبحث</h5>
      <input class="form-control mb-2" dir="rtl" #wordToseach (input)="filterSuggestions(wordToseach.value)"
        [ngModel]="searchTerm" placeholder="ابحث هنا..." />

      <ul *ngIf="filteredSuggestions.length > 0" class="list-group mb-3"
        style="max-height: 300px; overflow-y: auto; cursor: pointer;">
        <li *ngFor="let suggestion of filteredSuggestions" class="list-group-item"
          (click)="selectSuggestion(suggestion)">
          {{ suggestion }}
        </li>
      </ul>

      <div *ngIf="res1.length > 0" style="max-height: 200px; overflow-y: auto;">
        <table class="table table-striped table-bordered table-hover">
          <thead class="table-dark text-center">
            <tr>
              <th>اسم العميل</th>
              <th>المعرف</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let customer of res1">
              <td class="text-center" (click)="GiveId(customer)">{{ customer.custName }}</td>
              <td class="text-center" (click)="GiveId(customer)">{{ customer.id }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div *ngIf="Notes.length > 0" class="m-3">
      <h3 class="text-center">ملاحظات الزبون</h3>
      <div *ngFor="let note of Notes" class="row col-12 justify-content-between d-flex align-items-center mb-2">
        <p class="text-danger fw-bold-900 mb-0 me-2">{{ note.description }}</p>
        <button (click)="ConvertToSeen(note.id)" class="btn btn-sm btn-success"><i class="fa fa-eye"></i></button>
      </div>

    </div>
  </div>

  <!-- قسم التفاصيل -->
  <div *ngIf="custId != null" dir="rtl" class="col-md-7">
    <div style="font-size: 22px; font-weight: bold;" class="text-center bg-info fs-3 mb-3 text-light p-2">إضافة طرد جديد
    </div>
    <div style="font-size: 22px; font-weight: bold;" class="text-center fs-3 p-1">معلومات الشراء</div>

    <button (click)="AddFreePcg()" class="btn btn-sm btn-primary">اضافة طرد تعويضي</button>

    <div class="container mt-3">
      <div class="row mb-3">
        <div class="col-md-4">
          <label class="form-label d-block text-center">الوزن الفعلي</label>
          <input (change)="GetCorrectValues()" type="number" #actWeight [(ngModel)]="weight" class="form-control" />
        </div>
        <div class="col-md-4">
          <label class="form-label d-block text-center">الوزن الحجمي</label>
          <input (change)="GetCorrectValuesForDimentioal()" type="number" [(ngModel)]="dimemweight"
            class="form-control" />
        </div>
        <div class="col-md-4">
          <label class="form-label d-block text-center">نوع الشحن</label>
          <input [(ngModel)]="ShippingType" readonly class="form-control" />
        </div>
      </div>
      <!-- <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label d-block text-center">تكلفة الكيلو</label>
          <input [(ngModel)]="CostSaifComp" readonly class="form-control" />
        </div>
      </div> -->

      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label d-block text-center">سعر التكلفة</label>
          <input [(ngModel)]="purcheasCost" [readonly]="isReadonly" class="form-control" />
        </div>
        <div class="col-md-6">
          <label class="form-label d-block text-center">العملة</label>
          <input [(ngModel)]="purcheasCurrency" readonly class="form-control" />
        </div>
      </div>
      <hr />
      <div style="font-size: 22px; font-weight: bold;" class="text-center mb-3 fs-3 p-1">معلومات البيع</div>

      <div class="row mb-3">
        <div class="col-md-4">
          <label class="form-label d-block text-center">اسم الزبون</label>
          <input [(ngModel)]="custName" readonly class="form-control" />
        </div>
        <div class="col-md-4">
          <label class="form-label d-block text-center">الوزن</label>
          <input [(ngModel)]="weightForCustomer" readonly class="form-control" />
        </div>
        <div class="col-md-4">
          <label class="form-label d-block text-center">تاريخ الطرد</label>
          <input [(ngModel)]="PackageDate" type="text" class="form-control" placeholder="dd-MM-yyyy"
            (focus)="showDatePicker = true" />
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label d-block text-center">سعر المبيع</label>
          <input [(ngModel)]="saleingPrice" (change)="RepairIq()" class="form-control" />
        </div>
        <div class="col-md-6">
          <label class="form-label d-block text-center">العملة</label>
          <input [(ngModel)]="saleingCurrency" readonly class="form-control" />
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label d-block text-center">المبيع بالعراقي</label>
          <input [(ngModel)]="saleingPriceIq" (change)="RepairDollar()" class="form-control" />
        </div>
        <div class="col-md-6">
          <label class="form-label d-block text-center">العملة</label>
          <input readonly class="form-control" value="IQ" />
        </div>
      </div>
      <br/>
      <div class="row mb-3 ">
        <div *ngIf="idToUpdate == null" class="col-md-6 d-flex justify-content-center">
          <button [disabled]="isAdding" (click)="AddPackageToDB()" class="btn btn-success col-md-4">
            {{ isUpdate ? "تعديل" : "حفظ"}}
          </button>
        </div>
        <div class="col-md-6 d-flex justify-content-center">
          <button [disabled]="isAdding" (click)="AddPackageToDBAndMovie()" class="btn btn-danger col-md-4">
            {{ isUpdate ? "تعديل وخروج" : "حفظ وخروج"}}
          </button>
        </div>
      </div>
    </div>


  </div>

</div>